\hypertarget{my__window__file__sample_8h}{\section{Référence du fichier my\+\_\+window\+\_\+file\+\_\+sample.\+h}
\label{my__window__file__sample_8h}\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
}


\{header file for exemple to create a new module window\}  


Ce graphe montre quels fichiers incluent directement ou indirectement ce fichier \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{my__window__file__sample_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{my__window__file__sample_8h_a2ce5e5e0cead100229fc5507cd74f89c}{index\+\_\+my\+\_\+window} =0
\item 
bool \hyperlink{my__window__file__sample_8h_af91dcde8509ed23d3332d1f8adb58569}{my\+\_\+window\+\_\+variable\+\_\+boolean} =0
\item 
int \hyperlink{my__window__file__sample_8h_a3404146d0d692f39d697dc3b26568879}{my\+\_\+window\+\_\+fader\+\_\+value} \mbox{[}6\mbox{]}
\item 
int \hyperlink{my__window__file__sample_8h_acecdb8b67a23e29dcdb0c1f3a4e1cd64}{my\+\_\+window\+\_\+x} =100
\item 
int \hyperlink{my__window__file__sample_8h_a9c2c877523be5cfdcff0cd74bcdd3673}{my\+\_\+window\+\_\+y} =100
\item 
int \hyperlink{my__window__file__sample_8h_aa74bbd3c4bd0f1d9df63fbb27c07181c}{largeur\+\_\+my\+\_\+window} =400
\item 
int \hyperlink{my__window__file__sample_8h_ab1df986ebbc6101152bb186c671fc8c6}{hauteur\+\_\+my\+\_\+window} =250
\end{DoxyCompactItemize}


\subsection{Description détaillée}
\{header file for exemple to create a new module window\} 

\begin{DoxyAuthor}{Auteur}
Christoph Guillermet 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
\{0.\+8.\+6\} 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
\{28/04/2014\}
\end{DoxyDate}
White Cat \{-\/ categorie\} \{-\/ sous categorie \{-\/ sous categorie\}\}

Exemple pour créer sa propre fenêtre dans whitecat afin d'ajouter un nouveau module

Exemple to create a new module window

/ / C\+R\+E\+E\+R U\+N\+E F\+E\+N\+E\+T\+R\+E C E\+S\+T L\+E P\+L\+U\+S .... N\+E\+B\+U\+L\+E\+U\+X / P\+E\+T\+I\+T P\+A\+S A P\+A\+S E\+N M\+O\+D\+E T\+U\+N\+N\+E\+L /

Dans un premier temps vous pouvez directement modifier My\+\_\+window\+\_\+file\+\_\+sample.\+cpp . C est un gabarit actif dans whitecat. Passer à ce moment directement au point 5 pour essayer. Par contre vous aurez besoin de transform my\+\_\+window en mon\+\_\+module, ou d'ajouter une fenêtre, et là il faudra passer par la longue manip des points 1 à 4

/////////////////////\+C\+R\+E\+E\+R U\+N\+E F\+E\+N\+E\+T\+R\+E V\+I\+E\+R\+G\+E/////////////////////////////////////////////////////


\begin{DoxyEnumerate}
\item D\+E\+F\+I\+N\+I\+R U\+N\+E N\+O\+U\+V\+E\+L\+L\+E I\+D D\+E F\+E\+N\+E\+T\+R\+E
\end{DoxyEnumerate}

Chaque fenêtre a une I\+D, définée dans \hyperlink{whitecat_8h}{whitecat.\+h} dans enum W\+I\+N\+D\+O\+W\{\} . L'I\+D de My\+\_\+\+Window est 927.

Si vous rajoutez plus d'une fenetre, modifier int max\+\_\+window\+\_\+identity\+\_\+is=927; et dire quelle est l'i\+D max.


\begin{DoxyEnumerate}
\item C\+R\+E\+E\+R L O\+U\+V\+E\+R\+T\+U\+R\+E F\+E\+R\+M\+E\+T\+U\+R\+E D\+E F\+E\+N\+E\+T\+R\+E P\+A\+R L I\+N\+D\+E\+X B\+O\+O\+L\+E\+E\+N. M\+O\+D\+I\+F\+I\+E\+R L\+E\+S F\+O\+N\+C\+T\+I\+O\+N\+S D O\+U\+V\+E\+R\+T\+U\+R\+E F\+E\+R\+M\+E\+T\+U\+R\+E\+S D\+E F\+E\+N\+E\+T\+R\+E\+S
\end{DoxyEnumerate}

Il y a un index booléen d ouverture ou de fermeture de la fenetre pour activer la partie affichage, et la partie logique (clicks de souris). Ici\+: index\+\_\+my\+\_\+window

Ouverture de fenêtre ( et mettre des choses logiques si besoin d'initialisation des données par ex ) dans gestionnaire\+\_\+fenetres2.\+cpp fonction \hyperlink{gestionaire__fenetres2_8cpp_ada3b9703b1aaa1cc37304633bdeb526c}{add\+\_\+a\+\_\+window(int id)} index\+\_\+my\+\_\+window=1

Fermeture de fenetre dans \hyperlink{_c_o_r_e__6_8cpp}{C\+O\+R\+E\+\_\+6.\+cpp} $>$ fonction \hyperlink{_c_o_r_e__6_8cpp_ad1fdcc6a57eee30071023de7d67461f4}{close\+\_\+all\+\_\+windows()}\+: index\+\_\+my\+\_\+window=0

toujours dans \hyperlink{_c_o_r_e__6_8cpp}{C\+O\+R\+E\+\_\+6.\+cpp} ajouter dans les switch case de \hyperlink{_c_o_r_e__6_8cpp_a03f118b2d12fcfe87b0a0d09b8636d37}{write\+\_\+window\+\_\+indexes\+\_\+from\+\_\+list\+\_\+of\+\_\+windows()} le case W\+\_\+\+M\+Y\+\_\+\+W\+I\+N\+D\+O\+W et dans \hyperlink{_c_o_r_e__6_8cpp_ad0ba084ac976c6a4d32088e939ee0dbc}{substract\+\_\+a\+\_\+window(int id)} le case W\+\_\+\+M\+Y\+\_\+\+W\+I\+N\+D\+O\+W


\begin{DoxyEnumerate}
\item C\+R\+E\+E\+R U\+N B\+O\+U\+T\+O\+N D'A\+P\+P\+E\+L D\+A\+N\+S L\+E M\+E\+N\+U
\end{DoxyEnumerate}

Le menu est constitué de 2 boucles enchassées l'une dans l'autre\+: colonnes et lignes. Si vous rajoutez un autre onglet, il faudra changer la boucle de la colonne correspondante dans les fonctions l'utilisant ( logique , et affichage\+: la logique est séparée de l'affichage pour la performance ). for(int cl=0;cl$<$5;cl++) deviendra for(int cl=0;cl$<$6;cl++)

dans \hyperlink{_call__everybody__5_8cpp}{Call\+\_\+everybody\+\_\+5.\+cpp} $>$ fonctions do\+\_\+logical\+\_\+menus pour le click souris. L'identifiant midi est mis à 2047 mais il faudra lui attribuer une référence unique. il faut regarder ce qui n est pas attribué dans \hyperlink{midi__13_8cpp}{midi\+\_\+13.\+cpp} $>$ fonction \hyperlink{midi__13_8cpp_a5d7de871851b10e9d1115c33d25140bb}{do\+\_\+midi\+\_\+call\+\_\+order(int control)} ou control est l 'identifiant de la commande. voir la liste affectation\+\_\+midi.\+txt dans les sources

tout le travail de logique au click est fait dans la fonction command\+\_\+button\+\_\+logical dans \hyperlink{gui__boutons__rebuild1_8cpp}{gui\+\_\+boutons\+\_\+rebuild1.\+cpp} le case 15\+: est my window. c est la boucle des boutons colonne 1= 0 colonne 2= dizaine colonne 3= vingtaine case 15\+: 5ème bouton de la deuxieme colonne

l'affichage des boutons du menu est défini dans \hyperlink{_call__everybody__5_8cpp}{Call\+\_\+everybody\+\_\+5.\+cpp}\+: fonction int Menus( il faudra aller modifier la bonne colonne du for(int cl=0;cl$<$6;cl++)

toujours dans \hyperlink{gui__boutons__rebuild1_8cpp}{gui\+\_\+boutons\+\_\+rebuild1.\+cpp} les affichages des boutons \+: c est dans la fonction command\+\_\+button\+\_\+view par contre (shame on me) c est l'id midi qui est prise en compte comme identifiant. car je checkais des cas spécifiques. (les commandes du haut notamment)

noter que dans Menus et dans do\+\_\+logical\+\_\+menus stae est notre booléen index\+\_\+my\+\_\+window

Si vous avez besoin d'agrandir la fenêtre des menus, notamment en hauteur, vous trouverez dans \hyperlink{whitecat_8h}{whitecat.\+h} int size\+\_\+x\+\_\+mainmenu=365; int size\+\_\+y\+\_\+mainmenu=200;

/////////////////////\+D\+E\+S\+S\+I\+N\+E\+R L\+A F\+E\+N\+E\+T\+R\+E V\+I\+E\+R\+G\+E////////////////////////////////////////

Ok, on arrive au bout de la purge.

On va avoir besoin de variables globales pour avoir la position de la fenetre et sa taille\+: déclarer dans le fichier d'include\+:

//la position int my\+\_\+window\+\_\+x=100;//pixels int my\+\_\+window\+\_\+y=100; //la taille int largeur\+\_\+my\+\_\+window=400;//pixels int hauteur\+\_\+my\+\_\+window=250;


\begin{DoxyEnumerate}
\item M\+O\+D\+I\+F\+I\+E\+R L\+E\+S F\+I\+C\+H\+I\+E\+R\+S D\+E\+D\+I\+E\+Z A\+U T\+R\+A\+I\+T\+E\+M\+E\+N\+T D\+E L\+A L\+O\+G\+I\+Q\+U\+E et A L A\+F\+F\+I\+C\+H\+A\+G\+E\+:

dans le fichier proc\+\_\+visuels\+\_\+rebuild1.\+cpp \begin{quote}
fonction \hyperlink{procs__visuels__rebuild1_8cpp_ab7d3d74e516aa4baf2fd5714a198c84a}{detection\+\_\+over\+\_\+window()} fonction \hyperlink{procs__visuels__rebuild1_8cpp_ab61650b619a9d8bb64c4bfafa7e61db3}{move\+\_\+window(int idwindowis)} \end{quote}
case W\+\_\+\+M\+Y\+\_\+\+W\+I\+N\+D\+O\+W\+: do\+\_\+logical\+\_\+my\+\_\+window\+\_\+\+Box(my\+\_\+window\+\_\+x, my\+\_\+window\+\_\+y); do\+\_\+logical\+\_\+\+Move\+Close\+Box( my\+\_\+window\+\_\+x+20,my\+\_\+window\+\_\+y+20,W\+\_\+\+M\+Y\+\_\+\+W\+I\+N\+D\+O\+W); break;

dans \hyperlink{procs__visuels__rebuild1_8cpp_ae710b6e599e321ad5934a90140067054}{check\+\_\+graphics\+\_\+mouse\+\_\+handling()} se passe tous les appels au click souris dans votre fenêtre. regarder et modifier case W\+\_\+\+M\+Y\+\_\+\+W\+I\+N\+D\+O\+W\+: do\+\_\+logical\+\_\+my\+\_\+window\+\_\+\+Box(my\+\_\+window\+\_\+x, my\+\_\+window\+\_\+y); //ca c est votre fonction pour definir ce qui se passe au click souris do\+\_\+logical\+\_\+\+Move\+Close\+Box( my\+\_\+window\+\_\+x+20,my\+\_\+window\+\_\+y+20,W\+\_\+\+G\+R\+I\+D); //ca c est la fonction de fermeture bougeage de fenêtre break;

Vous verrez que dans les sources de whitecat il ya un fichier \+\_\+visu et un fichier \+\_\+core. Pour faire simple les fonctions appelées vont aller dans votre fichier my\+\_\+window\+\_\+sample.\+cpp

E\+N\+F\+I\+N dans graphic\+\_\+rebuild1, fonction Boxes , c est là ou est fait l'affichage \begin{DoxyVerb}   case W_MY_WINDOW:
  MyWindow_Box(my_window_x, my_window_y);
   MoveCloseBox( my_window_x+20,my_window_y+20,W_MY_WINDOW);
   break;
\end{DoxyVerb}

\begin{DoxyEnumerate}
\item E\+N\+F\+I\+N E\+C\+R\+I\+R\+E V\+O\+T\+R\+E F\+E\+N\+E\+T\+R\+E dans \hyperlink{my__window__file__sample_8cpp}{my\+\_\+window\+\_\+file\+\_\+sample.\+cpp}
\end{DoxyEnumerate}

Ok. Comme séparer la logique de l'affichage c est un peu tordu, vous pouvez aussi ne rien mettre dans \hyperlink{my__window__file__sample_8cpp_a0a7ebcf075147bdf93983968afc97f4a}{do\+\_\+logical\+\_\+my\+\_\+window\+\_\+\+Box(int mw\+\_\+x, int mw\+\_\+y)} et écrire logique et visu d'abord dans \hyperlink{my__window__file__sample_8cpp_a26a5f42e8e09adf48aeac712c864aaae}{my\+\_\+window\+\_\+\+Box(int mw\+\_\+x, int mw\+\_\+y)} puis nettoyer, en ne laissant que la logique dans la logique, et la visu dans la visu

vous pouvez aller dans \hyperlink{my__window__file__sample_8cpp}{my\+\_\+window\+\_\+file\+\_\+sample.\+cpp} la doc d open layer (la lib graphique opengl) est dans le dossier doc\+\_\+ol

banger\+\_\+visu et banger\+\_\+core sont des bons exemples d affichage, logique faders\+\_\+visu faders\+\_\+core aussi gridplayer aussi 
\end{DoxyEnumerate}

\subsection{Documentation des variables}
\hypertarget{my__window__file__sample_8h_ab1df986ebbc6101152bb186c671fc8c6}{\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}!hauteur\+\_\+my\+\_\+window@{hauteur\+\_\+my\+\_\+window}}
\index{hauteur\+\_\+my\+\_\+window@{hauteur\+\_\+my\+\_\+window}!my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
\subsubsection[{hauteur\+\_\+my\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}int hauteur\+\_\+my\+\_\+window =250}}\label{my__window__file__sample_8h_ab1df986ebbc6101152bb186c671fc8c6}
\hypertarget{my__window__file__sample_8h_a2ce5e5e0cead100229fc5507cd74f89c}{\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}!index\+\_\+my\+\_\+window@{index\+\_\+my\+\_\+window}}
\index{index\+\_\+my\+\_\+window@{index\+\_\+my\+\_\+window}!my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
\subsubsection[{index\+\_\+my\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}bool index\+\_\+my\+\_\+window =0}}\label{my__window__file__sample_8h_a2ce5e5e0cead100229fc5507cd74f89c}
\hypertarget{my__window__file__sample_8h_aa74bbd3c4bd0f1d9df63fbb27c07181c}{\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}!largeur\+\_\+my\+\_\+window@{largeur\+\_\+my\+\_\+window}}
\index{largeur\+\_\+my\+\_\+window@{largeur\+\_\+my\+\_\+window}!my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
\subsubsection[{largeur\+\_\+my\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}int largeur\+\_\+my\+\_\+window =400}}\label{my__window__file__sample_8h_aa74bbd3c4bd0f1d9df63fbb27c07181c}
\hypertarget{my__window__file__sample_8h_a3404146d0d692f39d697dc3b26568879}{\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}!my\+\_\+window\+\_\+fader\+\_\+value@{my\+\_\+window\+\_\+fader\+\_\+value}}
\index{my\+\_\+window\+\_\+fader\+\_\+value@{my\+\_\+window\+\_\+fader\+\_\+value}!my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
\subsubsection[{my\+\_\+window\+\_\+fader\+\_\+value}]{\setlength{\rightskip}{0pt plus 5cm}int my\+\_\+window\+\_\+fader\+\_\+value\mbox{[}6\mbox{]}}}\label{my__window__file__sample_8h_a3404146d0d692f39d697dc3b26568879}
\hypertarget{my__window__file__sample_8h_af91dcde8509ed23d3332d1f8adb58569}{\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}!my\+\_\+window\+\_\+variable\+\_\+boolean@{my\+\_\+window\+\_\+variable\+\_\+boolean}}
\index{my\+\_\+window\+\_\+variable\+\_\+boolean@{my\+\_\+window\+\_\+variable\+\_\+boolean}!my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
\subsubsection[{my\+\_\+window\+\_\+variable\+\_\+boolean}]{\setlength{\rightskip}{0pt plus 5cm}bool my\+\_\+window\+\_\+variable\+\_\+boolean =0}}\label{my__window__file__sample_8h_af91dcde8509ed23d3332d1f8adb58569}
\hypertarget{my__window__file__sample_8h_acecdb8b67a23e29dcdb0c1f3a4e1cd64}{\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}!my\+\_\+window\+\_\+x@{my\+\_\+window\+\_\+x}}
\index{my\+\_\+window\+\_\+x@{my\+\_\+window\+\_\+x}!my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
\subsubsection[{my\+\_\+window\+\_\+x}]{\setlength{\rightskip}{0pt plus 5cm}int my\+\_\+window\+\_\+x =100}}\label{my__window__file__sample_8h_acecdb8b67a23e29dcdb0c1f3a4e1cd64}
\hypertarget{my__window__file__sample_8h_a9c2c877523be5cfdcff0cd74bcdd3673}{\index{my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}!my\+\_\+window\+\_\+y@{my\+\_\+window\+\_\+y}}
\index{my\+\_\+window\+\_\+y@{my\+\_\+window\+\_\+y}!my\+\_\+window\+\_\+file\+\_\+sample.\+h@{my\+\_\+window\+\_\+file\+\_\+sample.\+h}}
\subsubsection[{my\+\_\+window\+\_\+y}]{\setlength{\rightskip}{0pt plus 5cm}int my\+\_\+window\+\_\+y =100}}\label{my__window__file__sample_8h_a9c2c877523be5cfdcff0cd74bcdd3673}
